webpackJsonp([14],{590:function(e,t,n){n(776);var r=n(307)(n(678),n(750),"data-v-67b9b622",null);r.options.__file="D:\\jiuye-pro\\jydata-git\\mcp-new\\mcp-ui\\src\\pages\\project\\NewProject.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] NewProject.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},597:function(e,t,n){"use strict";var r=n(310),o=n.n(r),a=n(599),c=n.n(a),s=n(600),i=n.n(s),u=function(){function e(){c()(this,e)}return i()(e,null,[{key:"setPromise",value:function(e,t,n){return new o.a(function(r,o){switch(e.toUpperCase()){case"GET":axios.get(t,{params:n}).then(function(e){e?r(e.data):o()});break;case"POST":case"PUT":axios({method:e,url:t,data:n}).then(function(e){e?r(e.data):o()});break;case"DELETE":axios.delete(t,{data:n}).then(function(e){e?r(e.data):o()})}})}}]),e}();t.a=u},598:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="SUCCESS",o="ERROR"},599:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},600:function(e,t,n){"use strict";t.__esModule=!0;var r=n(309),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},601:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"j",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return m});var r="Operation is successful！",o="Add successfully！",a="Updated successfully！",c="Deleted successfully！",s="Connection test successfully!",i="Connection test successfully!",u="Saved successfully!",l="Saved failed!",d="Synchronized successfully!",p="Transform successfully!",f="Reset password successfully！",m="Modify successfully！"},604:function(e,t,n){"use strict";var r=n(597);n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var o=function(e){return r.a.setPromise("GET","/mcp/project/query",e)},a=function(e){return r.a.setPromise("GET","/mcp/project/query_name",e)},c=function(e){return r.a.setPromise("POST","/mcp/project/edit",e)},s=function(e){return r.a.setPromise("DELETE","/mcp/project/delete?projectId="+e)},i=function(e){return r.a.setPromise("GET","/mcp/job/query_agents",e)},u=function(e){return r.a.setPromise("GET","/mcp/group/query",e)},l=function(e){return r.a.setPromise("GET","/mcp/joblog/queryJobSchedulerLog",e)}},678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(121),o=n.n(r),a=n(604),c=n(598),s=n(601);t.default={name:"NewProject",data:function(){var e=/^[a-zA-Z]+[\w]*$/;return{title:{from:{},to:{}},agentList:[],projectId:"",agentId:"",projectAgent:"",projectData:{projectName:"",description:"",agent:[]},rules:{projectName:[{required:!0,validator:function(t,n,r){if(""===n||n.trim().length<=0)return r(new Error("Project Name is required"));e.test(n)?r():r(new Error("Only numbers,letters and underline are allowed, and letters must be in front"))},trigger:"blur"}]}}},created:function(){void 0===this.$route.query.projectId?(this.title={from:{url:"/project/ProjectList",name:"Project List"},to:{name:"New Project"}},this.projectId=0):(this.title={from:{url:"/project/ProjectList",name:"Project List"},to:{name:"Edit Project"}},this.projectData.projectName=this.$route.query.projectName,this.projectData.description=this.$route.query.projectDescription,this.projectId=this.$route.query.projectId,this.projectAgent=this.$route.query.projectAgent,this.agentId=this.projectAgent.split(",")),this.queryAgent()},methods:{queryAgent:function(){var e=this;a.f({}).then(function(t){if(t.code===c.a){e.agentList=t.items,e.agentList.forEach(function(e){return e.agentId=e.agentId+""});var n=!0,r=!1,a=void 0;try{for(var s,i=o()(e.agentList);!(n=(s=i.next()).done);n=!0)!function(){var t=s.value,n=e.agentId.filter(function(e){return e==t.agentId});n.length&&e.projectData.agent.push(n[0])}()}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}e.projectAgent=e.projectData.agent.join()}else e.$message({message:t.message,type:"error"})}).catch(function(){})},saveProject:function(e){var t=this;this.$refs[e].validate(function(e){if(e)if(""==t.projectAgent)t.$message({message:"Please select Agent",type:"error"});else{var n={projectName:t.projectData.projectName,projectDescription:t.projectData.description,projectAgent:t.projectAgent,projectId:t.projectId};a.g(n).then(function(e){e.code===c.a?(t.$router.push("ProjectList"),t.$message({message:s.c,type:"success"})):t.$message({message:s.g,type:"error"})}).catch(function(){})}})},handleCheckedChange:function(){this.projectAgent=this.projectData.agent.join()}}}},716:function(e,t,n){t=e.exports=n(306)(),t.push([e.i,"\n.el-form[data-v-67b9b622] {\n  padding: 20px;\n}\n.el-form .el-input[data-v-67b9b622] {\n  width: 50%;\n}\n.table[data-v-67b9b622] {\n  position: relative;\n}\n.table .el-button[data-v-67b9b622] {\n  position: absolute;\n  right: 20px;\n  bottom: 15px;\n}\n.subtitle[data-v-67b9b622] {\n  background-color: #f7f7f7;\n  height: 35px;\n  line-height: 35px;\n  padding-left: 15px;\n}\n",""])},750:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:e.title.from.url}},[e._v(e._s(e.title.from.name))]),e._v(" "),n("el-breadcrumb-item",[e._v(e._s(e.title.to.name))])],1)],1)]),e._v(" "),n("div",{staticClass:"container gray"},[n("div",{staticClass:"table shadow mt0"},[n("div",{staticClass:"subtitle"},[e._v("Project Detail")]),e._v(" "),n("el-form",{ref:"projectForm",attrs:{"label-position":"top",rules:e.rules,model:e.projectData}},[n("el-form-item",{attrs:{label:"Project Name",prop:"projectName"}},[n("el-input",{attrs:{maxlength:"20",clearable:""},model:{value:e.projectData.projectName,callback:function(t){e.$set(e.projectData,"projectName",t)},expression:"projectData.projectName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description"}},[n("el-input",{attrs:{maxlength:"20",clearable:""},model:{value:e.projectData.description,callback:function(t){e.$set(e.projectData,"description",t)},expression:"projectData.description"}})],1),e._v(" "),n("div",{staticClass:"subtitle",staticStyle:{margin:"0 -20px"}},[e._v("Agent Group")]),e._v(" "),n("el-form-item",{staticStyle:{padding:"50px"}},[n("el-checkbox-group",{attrs:{min:"1"},on:{change:e.handleCheckedChange},model:{value:e.projectData.agent,callback:function(t){e.$set(e.projectData,"agent",t)},expression:"projectData.agent"}},e._l(e.agentList,function(t){return n("el-checkbox",{key:t.agentId,attrs:{label:t.agentId}},[e._v(e._s(t.agentId))])}),1)],1)],1),e._v(" "),n("el-button",{on:{click:function(t){return e.saveProject("projectForm")}}},[e._v("Save")])],1)])])},staticRenderFns:[]},e.exports.render._withStripped=!0},776:function(e,t,n){var r=n(716);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(308)("49fd6ae9",r,!1)}});
webpackJsonp([13],{591:function(t,e,o){o(765);var n=o(307)(o(679),o(739),"data-v-1a38f8b1",null);n.options.__file="D:\\jiuye-pro\\jydata-git\\mcp-new\\mcp-ui\\src\\pages\\project\\ProjectList.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] ProjectList.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},597:function(t,e,o){"use strict";var n=o(310),r=o.n(n),a=o(599),s=o.n(a),c=o(600),i=o.n(c),l=function(){function t(){s()(this,t)}return i()(t,null,[{key:"setPromise",value:function(t,e,o){return new r.a(function(n,r){switch(t.toUpperCase()){case"GET":axios.get(e,{params:o}).then(function(t){t?n(t.data):r()});break;case"POST":case"PUT":axios({method:t,url:e,data:o}).then(function(t){t?n(t.data):r()});break;case"DELETE":axios.delete(e,{data:o}).then(function(t){t?n(t.data):r()})}})}}]),t}();e.a=l},598:function(t,e,o){"use strict";o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r});var n="SUCCESS",r="ERROR"},599:function(t,e,o){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},600:function(t,e,o){"use strict";e.__esModule=!0;var n=o(309),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}()},601:function(t,e,o){"use strict";o.d(e,"e",function(){return n}),o.d(e,"j",function(){return r}),o.d(e,"b",function(){return a}),o.d(e,"f",function(){return s}),o.d(e,"k",function(){return c}),o.d(e,"l",function(){return i}),o.d(e,"c",function(){return l}),o.d(e,"g",function(){return u}),o.d(e,"i",function(){return f}),o.d(e,"h",function(){return d}),o.d(e,"d",function(){return p}),o.d(e,"a",function(){return b});var n="Operation is successful！",r="Add successfully！",a="Updated successfully！",s="Deleted successfully！",c="Connection test successfully!",i="Connection test successfully!",l="Saved successfully!",u="Saved failed!",f="Synchronized successfully!",d="Transform successfully!",p="Reset password successfully！",b="Modify successfully！"},604:function(t,e,o){"use strict";var n=o(597);o.d(e,"b",function(){return r}),o.d(e,"a",function(){return a}),o.d(e,"g",function(){return s}),o.d(e,"e",function(){return c}),o.d(e,"f",function(){return i}),o.d(e,"c",function(){return l}),o.d(e,"d",function(){return u});var r=function(t){return n.a.setPromise("GET","/mcp/project/query",t)},a=function(t){return n.a.setPromise("GET","/mcp/project/query_name",t)},s=function(t){return n.a.setPromise("POST","/mcp/project/edit",t)},c=function(t){return n.a.setPromise("DELETE","/mcp/project/delete?projectId="+t)},i=function(t){return n.a.setPromise("GET","/mcp/job/query_agents",t)},l=function(t){return n.a.setPromise("GET","/mcp/group/query",t)},u=function(t){return n.a.setPromise("GET","/mcp/joblog/queryJobSchedulerLog",t)}},679:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(604),r=o(598),a=o(601);e.default={name:"ProjectList",data:function(){return{projectName:"",ProjectList:[],jobStatus:"running",jobStatusLabel:"Running Jobs",jobStatusAry:[{label:"Running Jobs",key:"running"},{label:"Failed Jobs",key:"fail"}],jobTableList:[],loading:{jobTable:!1}}},created:function(){this.queryProject(),this.$store.state.TEMPJOBTYPE=!1,this.getJobTable()},methods:{changeRadio:function(t){var e=this;this.jobStatusAry.forEach(function(o){o.label===t&&(e.jobStatus=o.key)}),this.getJobTable()},getJobTable:function(){var t=this;this.loading.jobTable=!0,n.d({status:this.jobStatus}).then(function(e){t.loading.jobTable=!1,e.code===r.a?t.jobTableList=e.items:t.$message.error(e.message)}).catch(function(e){t.loading.jobTable=!1})},queryProject:function(){var t=this,e={};e=""==this.projectName?{}:{projectName:this.projectName},n.b(e).then(function(e){e.code===r.a?t.ProjectList=e.items:t.$message({message:e.message,type:"error"})}).catch(function(){})},goProject:function(t){this.$router.push({path:"NewProject",query:{projectName:t.projectName,projectDescription:t.projectDescription,projectAgent:t.projectAgent,projectId:t.projectId}})},goJob:function(t){this.$router.push({path:"NewJob",query:{origin:"project",projectName:t.projectName,projectAgent:t.projectAgent,projectId:t.projectId}})},deleteProject:function(t){var e=this;this.$confirm("Are you confirm delete?","Message",{confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then(function(){n.e(t.projectId).then(function(t){t.code===r.a?(e.$message({message:a.f,type:"success"}),e.queryProject()):e.$message({message:t.message,type:"error"})})}).catch(function(){})}}}},705:function(t,e,o){e=t.exports=o(306)(),e.push([t.i,"\na[data-v-1a38f8b1] {\n  cursor: pointer;\n}\n.search[data-v-1a38f8b1] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.project-a[data-v-1a38f8b1] {\n  color: #2c6daf;\n}\n.project-a[data-v-1a38f8b1]:hover {\n  color: #f00;\n}\n.project-a:hover .icon-tasks[data-v-1a38f8b1]:before {\n  color: #f00;\n}\n.project-a .icon-tasks[data-v-1a38f8b1] {\n  position: relative;\n  top: 2px;\n}\n.project-a .icon-tasks[data-v-1a38f8b1]:before {\n  color: #2c6daf;\n}\n.project-2fail[data-v-1a38f8b1],\n.project-2running[data-v-1a38f8b1] {\n  color: #666;\n}\n.project-2running[data-v-1a38f8b1]:hover {\n  color: #2c6daf;\n}\n.project-2fail[data-v-1a38f8b1]:hover {\n  color: #f00;\n}\n.project-2fail span[data-v-1a38f8b1] {\n  color: #f00;\n}\n.icon-plus-circle[data-v-1a38f8b1]:before {\n  font-size: 25px;\n}\n",""])},739:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("div",{staticClass:"header"},[o("div",{staticClass:"title"},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[t._v("Project List")])],1)],1)]),t._v(" "),o("div",{staticClass:"container"},[o("div",{staticClass:"search"},[o("div",{staticClass:"left"},[o("el-input",{staticStyle:{width:"220px"},attrs:{size:"medium",placeholder:"Search Project",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryProject.apply(null,arguments)}},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}}),t._v(" "),o("el-button",{staticClass:"ml5",attrs:{size:"small",icon:"el-icon-search"},on:{click:t.queryProject}})],1),t._v(" "),o("div",{staticClass:"right"},[o("el-button",{staticStyle:{height:"36px"},attrs:{size:"mini"},on:{click:t.goProject}},[t._v("New Project")])],1)]),t._v(" "),o("div",{staticClass:"table shadow"},[o("el-table",{attrs:{"empty-text":"No data",data:t.ProjectList}},[o("el-table-column",{attrs:{label:"#",type:"index"}}),t._v(" "),o("el-table-column",{attrs:{label:"Project Name",prop:"projectName"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("router-link",{staticClass:"project-a",attrs:{to:"/project/JobsDefinition/"+e.row.projectId}},[o("i",{staticClass:"icon-tasks"}),t._v(" "),o("span",{staticStyle:{display:"inline-block","margin-left":"3px","font-size":"24px"}},[t._v(t._s(e.row.projectName))])])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"Executions"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("router-link",{staticClass:"project-2running",attrs:{to:"/project/JobsDefinition/"+e.row.projectId}},[o("span",{staticClass:"deepblue"},[t._v(t._s(e.row.executeNum))]),o("span",[t._v(" Executions In the last day")])]),t._v(" "),o("router-link",{staticClass:"project-2fail",attrs:{to:"/project/JobsDefinition/"+e.row.projectId+"/Failed"}},[t._v("\n                （"),o("span",[t._v(t._s(e.row.failNum))]),t._v(" Falied）\n              ")])]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"140px",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"icon-edit mr20",attrs:{title:"Edit Project"},on:{click:function(o){return t.goProject(e.row)}}}),t._v(" "),o("i",{staticClass:"icon-trash mr20",attrs:{title:"Delete Project"},on:{click:function(o){return t.deleteProject(e.row)}}}),t._v(" "),o("i",{staticClass:"icon-plus-circle",attrs:{title:"Create Job"},on:{click:function(o){return t.goJob(e.row)}}})]}}])})],1)],1)]),t._v(" "),o("div",{staticClass:"container"},[o("el-radio-group",{staticClass:"mb15",attrs:{fill:"#2c6daf"},on:{change:t.changeRadio},model:{value:t.jobStatusLabel,callback:function(e){t.jobStatusLabel=e},expression:"jobStatusLabel"}},t._l(t.jobStatusAry,function(e){return o("el-radio-button",{key:e.key,attrs:{label:e.label,disabled:t.loading.jobTable}})}),1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.jobTable,expression:"loading.jobTable"}],attrs:{"empty-text":"No data",data:t.jobTableList,"element-loading-text":"loading..."}},[o("el-table-column",{attrs:{label:"JobID",prop:"jobId"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("router-link",{staticClass:"deepblue",attrs:{to:"/project/JobExecution/"+e.row.jobId+"/"+e.row.logId+"/"+e.row.triggerTime}},[t._v(t._s(e.row.jobId))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"ProjectName",prop:"projectName"}}),t._v(" "),o("el-table-column",{attrs:{label:"JobName",prop:"jobName"}}),t._v(" "),o("el-table-column",{attrs:{label:"GroupName",prop:"groupName"}}),t._v(" "),o("el-table-column",{attrs:{label:"RouteName",prop:"routeName"}}),t._v(" "),o("el-table-column",{attrs:{label:"StartTime",prop:"triggerTime",formatter:t.$root.formatDate}}),t._v(" "),o("el-table-column",{attrs:{label:"Duration",prop:"duration"}})],1)],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},765:function(t,e,o){var n=o(705);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(308)("69ccf2d1",n,!1)}});